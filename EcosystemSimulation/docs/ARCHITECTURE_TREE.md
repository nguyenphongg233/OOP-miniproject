# Architecture Tree

This document summarizes relationships between main files, UI, logic, and models.

- [EcosystemSimulation/src/ecosystem/Main.java](../src/ecosystem/Main.java)
  - Launches JavaFX app via [EcosystemSimulation/src/ecosystem/ui/JavaFXApp.java](../src/ecosystem/ui/JavaFXApp.java)
    - Delegates UI to [EcosystemSimulation/src/ecosystem/ui/SimulationUIManager.java](../src/ecosystem/ui/SimulationUIManager.java)
      - Holds state in [EcosystemSimulation/src/ecosystem/ui/AppController.java](../src/ecosystem/ui/AppController.java)
        - Settings: [EcosystemSimulation/src/ecosystem/Settings.java](../src/ecosystem/Settings.java)
        - Engine: [EcosystemSimulation/src/ecosystem/logic/SimulationEngine.java](../src/ecosystem/logic/SimulationEngine.java)
          - Grid: [EcosystemSimulation/src/ecosystem/models/Grid.java](../src/ecosystem/models/Grid.java)
            - Base model: [EcosystemSimulation/src/ecosystem/models/Organism.java](../src/ecosystem/models/Organism.java)
              - [EcosystemSimulation/src/ecosystem/models/Plant.java](../src/ecosystem/models/Plant.java)
              - [EcosystemSimulation/src/ecosystem/models/Herbivore.java](../src/ecosystem/models/Herbivore.java)
              - [EcosystemSimulation/src/ecosystem/models/Carnivore.java](../src/ecosystem/models/Carnivore.java)
            - UI snapshots: [EcosystemSimulation/src/ecosystem/models/OrganismSnapshot.java](../src/ecosystem/models/OrganismSnapshot.java)
      - UI panels:
        - Overview: [EcosystemSimulation/src/ecosystem/ui/OverviewPanel.java](../src/ecosystem/ui/OverviewPanel.java)
        - Right/details: [EcosystemSimulation/src/ecosystem/ui/RightPanel.java](../src/ecosystem/ui/RightPanel.java)
        - Settings modal: [EcosystemSimulation/src/ecosystem/ui/SettingsDialog.java](../src/ecosystem/ui/SettingsDialog.java)
        - Menu builder: [EcosystemSimulation/src/ecosystem/ui/MenuFactory.java](../src/ecosystem/ui/MenuFactory.java)
      - UI utilities:
        - Environment generator: [EcosystemSimulation/src/ecosystem/ui/EnvironmentGenerator.java](../src/ecosystem/ui/EnvironmentGenerator.java)
        - Icon loader: [EcosystemSimulation/src/ecosystem/ui/IconLoader.java](../src/ecosystem/ui/IconLoader.java)
        - Icon utility: [EcosystemSimulation/src/ecosystem/ui/IconUtil.java](../src/ecosystem/ui/IconUtil.java)
        - Selection manager: [EcosystemSimulation/src/ecosystem/ui/SelectionManager.java](../src/ecosystem/ui/SelectionManager.java)

Notes:
- The start menu uses an animated environment background (scan effect) generated by `EnvironmentGenerator`.
- The simulation grid renders `envMap` colors behind organisms and optionally image backgrounds if enabled.
- `RightPanel` and `OverviewPanel` update incrementally via `Grid` listeners and `OrganismSnapshot`.
